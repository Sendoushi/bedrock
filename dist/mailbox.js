var bedrockmailbox=function(){"use strict";var n={};return{on:function(e,r,t){if("function"==typeof r&&(t=r,r=""+1e5*Math.random()),!e&&"function"!=typeof e)throw new Error("A message handler is needed!");if(!t&&"function"!=typeof t)throw new Error("A listener function is needed!");var i=n[e]||[];return i.push({id:r,listener:t}),n[e]=i,r},off:function(e,r){if(e&&n[e])return r?void(n[e]=n[e].filter(function(n){return n.id!==r})):void(n[e]=void 0)},send:function(e,r){var t=n[e];if(t)for(var i=0;i<t.length;i+=1)t[i].listener(r)},reset:function(){n={}}}}();
